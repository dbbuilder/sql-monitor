# SQL Server Monitor - Environment Configuration Template
# Copy this file to .env and update with your actual values

# ============================================
# Database Configuration
# ============================================

# MonitoringDB connection string (where metrics are stored)
# Example for Windows Authentication:
# DB_CONNECTION_STRING=Server=SQL-PROD-03;Database=MonitoringDB;Integrated Security=True;TrustServerCertificate=True;

# Example for SQL Authentication:
DB_CONNECTION_STRING=Server=SQL-PROD-03;Database=MonitoringDB;User Id=monitor_api;Password=CHANGE_ME;TrustServerCertificate=True;Encrypt=True;

# ============================================
# API Configuration
# ============================================

# API listening port (default: 5000)
ASPNETCORE_URLS=http://+:5000

# ASP.NET Core environment (Development, Staging, Production)
ASPNETCORE_ENVIRONMENT=Development

# API key for authentication (generate secure random string)
# Example: openssl rand -base64 32
API_KEY=CHANGE_ME_TO_SECURE_RANDOM_STRING

# ============================================
# Grafana Configuration
# ============================================

# Grafana admin password
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# Grafana HTTP port (default: 3000)
GF_SERVER_HTTP_PORT=3000

# Grafana database connection (uses MonitoringDB)
GF_DATABASE_TYPE=mssql
GF_DATABASE_HOST=SQL-PROD-03
GF_DATABASE_NAME=MonitoringDB
GF_DATABASE_USER=grafana_reader
GF_DATABASE_PASSWORD=CHANGE_ME

# ============================================
# Collection Configuration
# ============================================

# MonitoringDB server name (for linked servers)
MONITORING_DB_SERVER=SQL-PROD-03

# Collector user password (for linked server authentication)
COLLECTOR_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# Collection interval in minutes (default: 5)
COLLECTION_INTERVAL_MINUTES=5

# ============================================
# Optional: Alerting Configuration
# ============================================

# SMTP settings for email alerts (optional)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=alerts@example.com
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM=sql-monitor@example.com

# Webhook URL for alerts (optional)
WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================
# Optional: Advanced Settings
# ============================================

# Data retention in days (default: 90)
DATA_RETENTION_DAYS=90

# Enable debug logging (true/false)
ENABLE_DEBUG_LOGGING=false

# Connection timeout in seconds (default: 30)
CONNECTION_TIMEOUT_SECONDS=30
