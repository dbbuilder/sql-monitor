apiVersion: 1

# =============================================================================
# Grafana SQL Server Datasource Configuration
# =============================================================================
# IMPORTANT: This file contains placeholders. For production use:
#   1. Copy this file to a secure location
#   2. Replace ${MONITORING_DB_*} variables with actual values OR
#   3. Set environment variables before starting Grafana
#
# Client-specific configurations:
#   - SchoolVision: See deployment/clients/schoolvision/.env
#   - ArcTrade: See deployment/clients/arctrade/.env
# =============================================================================

datasources:
  - name: MonitoringDB
    type: mssql
    uid: monitoringdb
    access: proxy
    url: ${MONITORINGDB_SERVER:-localhost}:${MONITORINGDB_PORT:-1433}
    database: ${MONITORINGDB_DATABASE:-MonitoringDB}
    user: ${MONITORINGDB_USER:-sql_monitor}
    secureJsonData:
      password: ${MONITORINGDB_PASSWORD}
    jsonData:
      maxOpenConns: 10
      maxIdleConns: 2
      connMaxLifetime: 14400
      encrypt: 'true'
      tlsSkipVerify: true
    editable: false
    isDefault: true
